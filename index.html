<html id="intro">

<script>
window.onload = function() {
  getFrame();
  var jsElm = document.createElement("script");
  jsElm.type = "application/javascript";
  jsElm.src = "./script.js";
  document.body.appendChild(jsElm);
  // TODO: timeout hack. use
  // jsElem.onload
  setTimeout(function () {
    swapMainwindow(location.href + "intro.html");
    history.pushState(null, null, location.href + "intro.html");
    window.addEventListener("popstate", doit, false);
    function doit(e) {
      swapMainwindow(location.href);
    }
  }, 1000);
}

function getFrame() {
  var xhttp = new XMLHttpRequest();
  //console.log("swapMainwindow: "+href)
  xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
      document.getElementById("intro").innerHTML = xhttp.responseText;
    }
  }
  xhttp.open("GET", "frame.html", true); // true: asynchronously
  xhttp.send();
  //setupHistoryClicks();
}

</script>
</html>
